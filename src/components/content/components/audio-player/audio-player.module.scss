@use "../../../../scss/mixins/text/" as textMixins;
@use "../../../../scss/abstracts/colours/" as *;
@use "../../../../scss/abstracts/units/" as *;

.audioPlayer {
	--bar-bg: #dcdcdc;
	--seek-before-handle: #696969;
	--handle: #696969;
	--handle-selcted: #696969;

	.progressBarContainer {
		padding: $spacingSm $spacingXl;
		background-color: $whiterSmoke;
		border: 4px solid $whiteSmoke;
		border-radius: $spacingXxs;
	}
	.controls {
		display: flex;
		flex-direction: column;
		align-items: center;

		width: 100%;
		background-color: $whiteSmoke;

		.playerControls {
			display: flex;
			align-items: center;
			padding: $spacingXxs $spacingXs;
		}

		.controlsSecondary {
			display: flex;
			align-items: center;
			justify-content: space-between;
			width: 100%;
			.speakerContainer {
				display: flex;
				align-items: center;
			}
		}

		.volumeButton {
			// padding-right: 1rem;
		}

		.volumeBg {
			padding-left: 0;
			cursor: unset;
		}
		.volumeBg:hover {
			background-color: $whiteSmoke;
		}
	}

	.timeBg {
		cursor: unset;
		&:hover {
			background-color: $whiteSmoke;
		}
	}

	input[type="range"] {
		appearance: none;
		background: var(--bar-bg);
		border-radius: $spacingXs;
		position: relative;
		width: 100%;
		height: $spacingXxs;
		outline: none;
	}

	// safari
	input[type="range"]::-webkit-slider-runnable-track {
		background: var(--bar-bg);
		border-radius: $spacingXs;
		position: relative;
		width: 100%;
		height: $spacingXxs;
		outline: none;
	}

	// firefox
	input[type="range"]::-moz-range-track {
		background: var(--bar-bg);
		border-radius: $spacingXs;
		position: relative;
		width: 100%;
		height: $spacingXxs;
		outline: none;
	}

	input[type="range"]::-moz-focus-outer {
		border: 0;
	}

	// progress bar chrome & Safari
	input[type="range"]::before {
		content: "";
		height: $spacingXxs;
		background: var(--seek-before-handle);
		border-top-left-radius: $spacingXs;
		border-bottom-left-radius: $spacingXs;
		position: absolute;
		top: 0;
		left: 0;
		z-index: 2;
		cursor: pointer;
	}

	.progressBar {
		--playback-width: 0;
	}

	.progressBar::before {
		width: var(--playback-width);
	}

	.volume {
		--volume-width: 50%;
	}

	.volume::before {
		width: var(--volume-width);
	}

	input[type="range"]::-moz-range-progress {
		background: var(--seek-before-handle);
		border-top-left-radius: $spacingXs;
		border-bottom-left-radius: $spacingXs;
		position: absolute;
		height: $spacingXxs;
	}

	// handle
	input[type="range"]::-webkit-slider-thumb {
		-webkit-appearance: none;
		width: $spacingSm;
		height: $spacingSm;
		background: var(--handle);
		border-radius: 50%;
		border: none;
		cursor: pointer;
		position: relative;
		margin: -3px 0 0 0;
		z-index: 3;
		box-sizing: border-box;
	}

	input[type="range"]:active::-webkit-slider-thumb {
		transform: scale(1.2);
		background: var(--handle-selcted);
	}

	input[type="range"]::-moz-range-thumb {
		width: $spacingSm;
		height: $spacingSm;
		background: var(--handle);
		border-radius: 50%;
		border: transparent;
		cursor: pointer;
		position: relative;
		z-index: 3;
		box-sizing: border-box;
	}

	input[type="range"]:active::-moz-range-thumb {
		transform: scale(1.2);
		background: var(--handle-selcted);
	}

	@media screen and (min-width: $screenWidthSm) {
		.controls {
			flex-direction: row;
		}
	}
}
